<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>2023/03 on RD Notes</title>
    <link>https://rdnotes.com/archives/2023/03/</link>
    <description>Recent content in 2023/03 on RD Notes</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-tw</language><atom:link href="https://rdnotes.com/archives/2023/03/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>[SSL]Ubuntuï¼‹Nginxé€é Certbot å…è²»å–å¾— Let&#39;s Encrypt SSLæ†‘è­‰</title>
      <link>https://rdnotes.com/post/nginx-certbot-lets-encrypt-addssh/</link>
      <pubDate>Sat, 25 Mar 2023 00:00:00 +0000</pubDate>
      
      <guid>https://rdnotes.com/post/nginx-certbot-lets-encrypt-addssh/</guid>
      <description>æˆ‘å€‘é€éNginxè¨­å®šå®Œhttp serverå¾Œï¼Œæœƒç™¼ç¾ç¶²åŸŸå‰é¢å·¦ä¸Šè§’ä¹Ÿæ²’æœ‰ğŸ”“ç¬¦è™Ÿï¼Œæ‰€ä»¥googleç€è¦½å™¨æœƒè¦–ç‚ºä¸å®‰å…¨ï¼Œé€™ç¯‡ä¸»è¦èªªæ˜å¦‚ä½•åœ¨Nginxé€é Certbot å…è²»å–å¾— Let&amp;rsquo;s Encrypt SSLæ†‘è­‰ï¼Œè®“è‡ªå·±çš„ç¶²é å¾httpè®Šæˆhttpsã€‚ã€‚
ä¸Šä¸€ç¯‡æ–‡ç« æœ‰æåˆ°Nginx http serverè¨­å®š
 [Nginxè¨­å®š]Virtual Host Nginx http serverä»¥åŠå¤šå€‹ç¶²åŸŸå…±ç”¨ä¸€å°ä¸»æ©Ÿè¨­å®š  ç’°å¢ƒ:
 Ubuntu 18.04 nginx 1.14.0  å®‰è£Certbot é€™é‚Šä¸€æ¨£éœ€è¦å…ˆsshä¸Šä¸»æ©Ÿï¼Œé—œæ–¼sshçš„é€£ç·šæœ‰åœ¨ ä¸Šä¸€ç¯‡åšèªªæ˜ã€‚sshä¸Šä¸»æ©Ÿå¾Œè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š
$ sudo add-apt-repository ppa:certbot/certbot $ sudo apt install python-certbot-nginx  Nginx http server è¨­å®š é›–ç„¶Certbotåœ¨ç”³è«‹å®ŒSSLæ†‘è­‰ä¹‹å¾Œæœƒå¹«ä½ ä¿®æ”¹Nginxçš„è¨­å®šï¼Œä½†æ˜¯æˆ‘å€‘è¦å…ˆå°‡è¦ç”³è«‹SSLæ†‘è­‰çš„ç¶²åŸŸè£¡nginxçš„.confæª”ç•¶ä¸­çš„server_nameå…ˆè¨­å®šå¥½ã€‚
server{ listen 80; # Certbotæœƒæ‰¾åˆ°èˆ‡ç”¢ç”Ÿæ†‘è­‰ç›¸ç¬¦çš„ç¶²åŸŸï¼Œä¸¦ä¸”æŠŠè¨­å®šåŠ é€™å€‹å€å¡Šè£¡ server_name www.example1.com ; # ä½ è¦ç”³è«‹SSLç¶²åŸŸ root /var/www/website2; # ä½ è¦ç”³è«‹SSLç¶²åŸŸçš„ç¶²é æª”æ¡ˆè·¯å¾‘ location / { index index.html index.hml; } }  åœ¨ç”³è«‹SSLæ†‘è­‰çš„æ™‚å€™ï¼ŒCertbotæœƒæ ¹æ“šä½ è¨­å®šåœ¨nginxç•¶ä¸­çš„server_nameæ‰¾ç•¶èˆ‡è©²ç¶²åŸŸç›¸ç¬¦çš„æª”æ¡ˆåšä¿®æ”¹ã€‚
ç²å–æ†‘è­‰(SSL Certificate) ä½¿ç”¨ nginx åŸ·è¡Œ certbotï¼Œ-dä»£è¡¨æŒ‡ä»¤æˆ‘å€‘è¦ç”³è«‹æ†‘è­‰çš„å­ç¶²åŸŸã€‚</description>
    </item>
    
    <item>
      <title>[Nginxè¨­å®š]Virtual Host Nginx http serverèˆ‡å¤šå€‹ç¶²åŸŸå…±ç”¨ä¸€å°ä¸»æ©Ÿè¨­å®š</title>
      <link>https://rdnotes.com/post/nginx-multiple-domains-on-one-server/</link>
      <pubDate>Sat, 18 Mar 2023 00:00:00 +0000</pubDate>
      
      <guid>https://rdnotes.com/post/nginx-multiple-domains-on-one-server/</guid>
      <description>ä½¿ç”¨æƒ…å¢ƒï¼šå…©å€‹ç¶²åŸŸè¦æŒ‡å‘åŒä¸€å€‹ IP çš„è¨­å®šã€‚
å‡è¨­æœ‰å…©å€‹ç¶²åŸŸwww.example1.comã€www.example.comåˆ†åˆ¥è¦æŒ‡å‘website1ã€website2ï¼Œè€Œé€™å…©å€‹ç¶²é çš„æª”æ¡ˆå…§åˆ†åˆ¥éƒ½æ”¾ç½®å„è‡ªçš„index.htmlã€‚è€Œå‡è¨­ä¸»æ©Ÿçš„IPæ˜¯192.162.123.123ã€‚
 www.example1.com è¦æŒ‡å‘192.162.123.123 www.example2.comä¹Ÿè¦æŒ‡å‘192.162.123.123  nginxå¤šå€‹ç¶²åŸŸå…±ç”¨ä¸€å°ä¸»æ©Ÿï¼Œéœ€è¦åšå…©å€‹è¨­å®šï¼š
 Nginxè¨­å®š DNSè¨­å®š  Nginxè¨­å®š $ ssh å¸³è™Ÿ@ä¸»æ©Ÿ  example ssh to 192.162.123.123:
$ ssh rootï¼ 192.162.123.123  -- è¼¸å…¥sshæŒ‡ä»¤æŒ‰ä¸‹enterå¾Œå¯ä»¥çœ‹åˆ°è¼¸å…¥å¯†ç¢¼çš„æ¬„ä½ å¯†ç¢¼è¼¸å…¥æˆåŠŸå¾Œï¼Œå¦‚æœå‡ºç¾ä»¥ä¸‹ç•«é¢å°±è¡¨ç¤ºsshæˆåŠŸäº† å»¶çºŒä¸Šåœ–çœ‹åˆ°çš„ç•«é¢ä¹‹å¾Œï¼Œç¾åœ¨æˆ‘å€‘è¦æ‰¾åˆ°nginxæ‰€åœ¨çš„è·¯å¾‘ï¼Œä¸€èˆ¬éƒ½æœƒåœ¨/etc/nginxã€‚å› æ­¤æˆ‘å€‘ç›´æ¥cd /etc/nginxè³‡æ–™å¤¾ã€‚
$ root@localhost:~# cd /etc/nginx  ç•¶æˆ‘å€‘é€²å…¥åˆ°/etc/nginxä¹‹å¾Œï¼Œè¼¸å…¥lsä¹‹å¾Œæœƒçœ‹åˆ°å¾ˆå¤šæª”æ¡ˆã€‚
 $ root@localhost:/etc/nginx/# ls  è€Œæˆ‘å€‘ä»Šå¤©æœƒç”¨åˆ° conf.dè³‡æ–™å¤¾ã€nginx.confæª”æ¡ˆï¼Œ ç•«é¢åœç•™åœ¨ä¸Šåœ–ä¹‹å¾Œ
$ cd conf.d/  Step1:åœ¨é€™å€‹è·¯å¾‘ä¸‹æ–°å¢æª”æ¡ˆ
$ sudo touch website1.conf  Step2:ç·¨è¼¯æ–°å¢çš„æª”æ¡ˆwebsite1.conf
 $ sudo vi website1.conf  Step3:é€²å…¥ç·¨è¼¯æ¨¡å¼å¾Œï¼Œè¦æŒ‰ i æ‰å¯ä»¥ç·¨è¼¯ï¼Œç„¶å¾Œè²¼ä¸Šé€™æ®µã€‚
server{ listen 80; server_name www.</description>
    </item>
    
  </channel>
</rss>
